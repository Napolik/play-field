class PlayField extends HTMLElement {
  constructor() {
    super();

    this.table = [[[1,0,0,1], [1,0,0,0], [1,0,0,0], [1,0,0,0], [1,0,0,0],
                   [1,0,0,0], [1,0,0,0], [1,0,0,0], [1,0,0,0], [1,1,0,0]],
                  [[0,0,0,1], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0],
                   [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,1,0,0]],
                  [[0,0,0,1], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0],
                   [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,1,0,0]],
                  [[0,0,0,1], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0],
                   [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,1,0,0]],
                  [[0,0,0,1], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0],
                   [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,1,0,0]],
                  [[0,0,0,1], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0],
                   [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,1,0,0]],
                  [[0,0,0,1], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0],
                   [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,1,0,0]],
                  [[0,0,0,1], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0],
                   [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,1,0,0]],
                  [[0,0,0,1], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0],
                   [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0], [0,1,0,0]],
                  [[0,0,1,1], [0,0,1,0], [0,0,1,0], [0,0,1,0], [0,0,1,0],
                   [0,0,1,0], [0,0,1,0], [0,0,1,0], [0,0,1,0], [0,1,1,0]]];

    this.drawWalls();
  }

  drawWalls() {
    for (let y = 0; y < this.table.length; y++) {
      for (let i = 0; i < this.table[y].length; i++) {
        const cell = document.createElement('div');
        cell.classList.add('cell');

        for (let j = 0; j < this.table[y][i].length; j++) {

          switch (j) {
            case 0 :
              drawBorder(this.table[y][i][j], 'top');
              break;
            case 1 :
              drawBorder(this.table[y][i][j], 'right');
              break;
            case 2 :
              drawBorder(this.table[y][i][j], 'bottom');
              break;
            case 3 :
              drawBorder(this.table[y][i][j], 'left');
              break;
          }
        }

        function drawBorder(isWall, side) {
          if (isWall) {
            cell.classList.add(side);
          }
          document.querySelector('.playfield').append(cell);
        }
      }
    }

  }

}

customElements.define('play-field', PlayField);
